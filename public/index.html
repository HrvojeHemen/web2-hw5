<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8"/>
        <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <link rel="manifest" href="./manifest.json">

        <script>
            navigator.serviceWorker.register('./sw.js')
                .then(reg => console.log('SW registered!', reg))
                .catch(err => console.error('Error registering service worker', err));

        </script>
        <title>Homework 5</title>

        <style>
            #container {
                margin: 0 auto;
                width: 500px;
                height: 400px;
                border: 5px black solid;
            }
            #videoElement {
                width: 500px;
                height: 400px;
                background-color: gray;
            }
        </style>

    </head>

    <body>
    <img src="image.jpg" alt="logoImage">
    <div class="header">
        <h3>Homework 5, using PWA</h3>
    </div>


    <div id="container">
        <video autoplay id="videoElement" muted>

        </video>
    </div>


    <script>
        let video = document.querySelector("#videoElement")

        if(navigator.mediaDevices.getUserMedia()){
            navigator.mediaDevices.getUserMedia({video: true})
            .then(stream => {
                video.srcObject = stream;
            })
            .catch(() => {
                alert("Error with capturing video")
            })
        }
        else {
            alert("Video not supported")
        }
    </script>

    <noscript>
        <p>
            This page requires javascript
        </p>
    </noscript>



    </body>
</html>
